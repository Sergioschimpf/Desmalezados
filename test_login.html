<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prueba Login Google</title>
<script src="https://apis.google.com/js/api.js"></script>
</head>
<body>
<h2>Prueba de Login con Google</h2>
<button id="loginBtn">Iniciar Sesi√≥n</button>
<pre id="output"></pre>

<script>
const CLIENT_ID = "97793571405-f6ggo2qia339e71k8gg79s54pot0u5t5.apps.googleusercontent.com";
const SCOPES = "https://www.googleapis.com/auth/drive.file";

function handleClientLoad() {
  gapi.load('client:auth2', initClient);
}

function initClient() {
  gapi.client.init({
    clientId: CLIENT_ID,
    scope: SCOPES,
    plugin_name: "SubidaArchivos"
  }).then(() => {
    document.getElementById('loginBtn').onclick = () => {
      const auth = gapi.auth2.getAuthInstance();
      auth.signIn().then(user => {
        const profile = user.getBasicProfile();
        document.getElementById('output').innerText =
          "Usuario: " + profile.getEmail();
      }).catch(err => {
        document.getElementById('output').innerText =
          "Error: " + JSON.stringify(err, null, 2);
      });
    };
  }).catch(err => {
    document.getElementById('output').innerText =
      "Error init: " + JSON.stringify(err, null, 2);
  });
}

handleClientLoad();
</script>
</body>
</html>





